<div class="projectable-form-wrapper">
    <div class="identity-form-container">
        <lib-form-header
            [title]="formData.name || 'Create a new Identity'"
            [moreActions]="moreActions"
            (actionRequested)="headerActionRequested($event)"
            [(formView)]="formView"
        ></lib-form-header>

        <div class="form-group-row" *ngIf="formView === 'simple'">
            <div class="form-group-column three-fifths">
                <lib-form-field-container [title]="'Identity Name'" [label]="'REQUIRED'">
                    <input class="form-field-input" placeholder="Name this identity"/>
                </lib-form-field-container>
                <lib-form-field-container
                        [title]="'Select or create Identity attributes'"
                        [label]="'OPTIONAL'"
                        [helpText]="'Attributes are tags applied to an resource. Apply the same tag to other Identities to form a group of Identities.'"
                >
                    <input class="form-field-input" placeholder="Add attributes to group Identities"/>
                </lib-form-field-container>
                <lib-form-field-container
                        [title]="'Auhtorization Policy'"
                        [label]="'OPTIONAL'"
                        [helpText]="'Attributes are tags applied to an resource. Apply the same tag to other Identities to form a group of Identities.'"
                >
                    <select
                            [(ngModel)]="formData.authPolicyId"
                            id="authPolicyId"
                            class="form-field-dropdown"
                    >
                        <option value="undefined">Select an Authentication Policy</option>
                        <option
                                *ngFor="let policy of authPolicies"
                                [value]="policy.id"
                        >
                            {{ policy.name }}
                        </option>
                    </select>
                    <input class="form-field-input" placeholder="Add attributes to group Identities"/>
                </lib-form-field-container>
                <lib-form-field-toggle [(toggleOn)]="showMore" style="margin: 0px 10px"></lib-form-field-toggle>
                <div *ngIf="showMore" class="form-group-column">
                    <lib-form-field-container
                            [title]="'Hosting Cost'"
                            [title2]="'Precedence'"
                            [layout]="'row'"
                            class="form-field-advanced"
                    >
                        <input class="form-field-input" [value]="0"/>
                        <input class="form-field-input" placeholder="Default"/>
                    </lib-form-field-container>
                    <lib-form-field-container
                            [title]="'App Data'"
                            [label]="'OPTIONAL'"
                            class="form-field-advanced"
                    >
                        <lib-json-view></lib-json-view>
                    </lib-form-field-container>
                </div>
            </div>
            <div class="form-group-column two-fifths">
                <lib-form-field-container
                        [title]="'Associated Services'"
                        [count]="0"
                        [helpText]="'Preview list of all services that this Identity is associated with.'"
                >
                    <lib-preview-list
                        (itemSelected)="serviceSelected($event)"
                        [clickable]="true"
                        [isLoading]="servicesLoading"
                        [allNames]="associatedServices"
                    ></lib-preview-list>
                </lib-form-field-container>
                <lib-form-field-container
                        [title]="'Associated Service Policies'"
                        [count]="0"
                        [helpText]="'Preview list of all service policies that this Identity is associated with.'"
                >
                    <lib-preview-list
                            (itemSelected)="serviceSelected($event)"
                            [clickable]="true"
                            [isLoading]="servicePoliciesLoading"
                            [allNames]="associatedServicePolicies"
                    ></lib-preview-list>
                </lib-form-field-container>
                <lib-form-field-container
                        [title]="'API Calls'"
                        [label]="'OPTIONAL'"
                >
                    <input class="form-field-input" [value]="settings.selectedEdgeController"/>
                    <lib-json-view></lib-json-view>
                </lib-form-field-container>
            </div>
        </div>
        <div class="form-group-column" *ngIf="formView === 'raw'">
            <lib-json-view></lib-json-view>
        </div>
    </div>
</div>